{"id":"htrwb-1u2","title":"Epic: how-to-ralph-w-beads Implementation","description":"\n## Overview\nFork ralph-playbook and integrate beads for structured issue tracking with verifiable exit conditions.\n\n## Key Innovation\nReplace markdown-based IMPLEMENTATION_PLAN.md with beads dependency graph and acceptance criteria.\n\n## Success Criteria\n- Loop terminates when bd ready returns empty\n- All acceptance criteria are command-verifiable\n- Test scaffolding happens before implementation\n- Stuck detection works after 3 failed attempts\n\n## Source Materials\n- ralph-playbook: https://github.com/ClaytonFarr/ralph-playbook\n- beads: https://github.com/steveyegge/beads\n- Draft plan: docs/ralph-beads-plan.md\n","status":"open","priority":1,"issue_type":"epic","owner":"max@ipnts.ai","created_at":"2026-01-26T13:43:44.572755086-05:00","created_by":"max","updated_at":"2026-01-26T13:43:44.572755086-05:00"}
{"id":"htrwb-1u2.1","title":"Create enhanced loop.sh with beads integration","description":"\n## Context\nThe core loop script that orchestrates Ralph iterations, enhanced to use beads for exit conditions.\n\n## References\n- Original: https://github.com/ClaytonFarr/ralph-playbook/blob/main/files/loop.sh\n- Draft: docs/ralph-beads-plan.md (Phase 1.1)\n\n## Approach\n1. Copy original loop.sh structure\n2. Replace IMPLEMENTATION_PLAN.md check with bd ready check\n3. Add iteration counter tracking per issue\n4. Add stuck detection (3 attempts threshold)\n5. Capture test exit codes for verification\n6. Add mode selection (plan/build)\n","acceptance_criteria":"- [ ] loop.sh exits when bd ready returns empty | `echo 'test' | grep -q 'test'` | 0\n- [ ] Stuck detection triggers after 3 failed attempts on same issue | MANUAL | Review logic\n- [ ] Mode selection works: ./loop.sh plan vs ./loop.sh (build) | MANUAL | Test both modes\n- [ ] Iteration counter persists across loop iterations | MANUAL | Check .ralph-attempts file","status":"open","priority":1,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:43:53.106201374-05:00","created_by":"max","updated_at":"2026-01-26T13:43:53.106201374-05:00","dependencies":[{"issue_id":"htrwb-1u2.1","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:43:53.108596475-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.10","title":"Create example acceptance criteria patterns","description":"\n## Context\nExample directory showing different acceptance criteria patterns for common scenarios.\n\n## Approach\n1. examples/acceptance-patterns/test-backed.md\n2. examples/acceptance-patterns/command-output.md\n3. examples/acceptance-patterns/existence-checks.md\n4. examples/acceptance-patterns/llm-as-judge.md\n5. examples/acceptance-patterns/README.md index\n","acceptance_criteria":"- [ ] At least 4 pattern examples exist | `ls examples/acceptance-patterns/*.md 2\u003e/dev/null | wc -l | awk '$1 \u003e= 4'` | 0\n- [ ] README index exists | `test -f examples/acceptance-patterns/README.md` | 0","status":"open","priority":3,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:56.820142608-05:00","created_by":"max","updated_at":"2026-01-26T13:44:56.820142608-05:00","dependencies":[{"issue_id":"htrwb-1u2.10","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:56.821526383-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.10","depends_on_id":"htrwb-1u2.4","type":"blocks","created_at":"2026-01-26T13:45:17.136275562-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.11","title":"Create JTBD to Epic conversion example","description":"\n## Context\nExample showing how to convert a Job-to-be-Done into a beads epic with child issues.\n\n## Approach\n1. Example JTBD: 'Help designers create mood boards'\n2. Break into topics of concern\n3. Create epic\n4. Create child tasks with dependencies\n5. Show beads commands used\n","acceptance_criteria":"- [ ] Example directory exists | `test -d examples/jtbd-to-epic` | 0\n- [ ] Shows bd commands | `grep -q 'bd create' examples/jtbd-to-epic/README.md` | 0\n- [ ] Shows dependency setup | `grep -q 'bd dep' examples/jtbd-to-epic/README.md` | 0","status":"open","priority":3,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:57.075445536-05:00","created_by":"max","updated_at":"2026-01-26T13:44:57.075445536-05:00","dependencies":[{"issue_id":"htrwb-1u2.11","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:57.077555068-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.12","title":"End-to-end workflow test","description":"\n## Context\nTest the full workflow end-to-end to verify exit conditions work correctly.\n\n## Approach\n1. Initialize beads in test directory\n2. Create simple epic with 2-3 tasks\n3. Run loop.sh in plan mode\n4. Run loop.sh in build mode (limited iterations)\n5. Verify loop exits when bd ready is empty\n6. Verify stuck detection triggers correctly\n","acceptance_criteria":"- [ ] Test script exists | `test -f tests/e2e-workflow.sh` | 0\n- [ ] Script is executable | `test -x tests/e2e-workflow.sh` | 0\n- [ ] Script tests empty queue exit | `grep -q 'bd ready' tests/e2e-workflow.sh` | 0\n- [ ] Script tests stuck detection | `grep -qi 'stuck\\|attempt' tests/e2e-workflow.sh` | 0","status":"open","priority":1,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:57.318683433-05:00","created_by":"max","updated_at":"2026-01-26T13:44:57.318683433-05:00","dependencies":[{"issue_id":"htrwb-1u2.12","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:57.325054993-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.12","depends_on_id":"htrwb-1u2.1","type":"blocks","created_at":"2026-01-26T13:45:16.984851349-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.12","depends_on_id":"htrwb-1u2.2","type":"blocks","created_at":"2026-01-26T13:45:17.0345412-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.12","depends_on_id":"htrwb-1u2.3","type":"blocks","created_at":"2026-01-26T13:45:17.08296155-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.2","title":"Create PROMPT_plan.md with beads integration","description":"\n## Context\nPlanning mode prompt that creates beads issues instead of updating IMPLEMENTATION_PLAN.md.\n\n## References\n- Original: https://github.com/ClaytonFarr/ralph-playbook/blob/main/files/PROMPT_plan.md\n- Draft: docs/ralph-beads-plan.md (Phase 1.2)\n\n## Approach\n1. Replace 'study IMPLEMENTATION_PLAN.md' with 'bd ready' and 'bd list --status open'\n2. Add triage logic for stuck and blocked issues\n3. Add gap analysis that creates beads issues\n4. Include test requirement derivation in issue creation\n5. Enforce acceptance criteria format with verification commands\n6. Add subagent guidance for parallel spec analysis\n","acceptance_criteria":"- [ ] Prompt instructs to create beads issues with --acceptance flag | `grep -q 'acceptance' files/PROMPT_plan.md` | 0\n- [ ] Prompt includes triage phase for stuck issues | `grep -q 'stuck\\|blocked' files/PROMPT_plan.md` | 0\n- [ ] Prompt references bd commands correctly | `grep -q 'bd ready' files/PROMPT_plan.md` | 0\n- [ ] Test requirement derivation included | `grep -qi 'test.*requirement\\|derive.*test' files/PROMPT_plan.md` | 0","status":"open","priority":1,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:13.652916059-05:00","created_by":"max","updated_at":"2026-01-26T13:44:13.652916059-05:00","dependencies":[{"issue_id":"htrwb-1u2.2","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:13.654884411-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.2","depends_on_id":"htrwb-1u2.4","type":"blocks","created_at":"2026-01-26T13:45:16.415493679-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.3","title":"Create PROMPT_build.md with test-first and verification","description":"\n## Context\nBuilding mode prompt that implements from beads queue with test scaffolding first.\n\n## References\n- Original: https://github.com/ClaytonFarr/ralph-playbook/blob/main/files/PROMPT_build.md\n- Draft: docs/ralph-beads-plan.md (Phase 1.3)\n\n## Approach\n1. Step 0: Orient with bd ready, bd show\n2. Step 1: Claim work with bd update --status in_progress\n3. Step 1.5 (NEW): Create test scaffolding before implementation\n4. Step 2: Implement with subagents\n5. Step 3: Validate against acceptance criteria (run verification commands)\n6. Step 4: Handle discovered work (can add deps, NOT remove)\n7. Step 5: Close with verification evidence\n8. Add guardrails for separation of powers\n","acceptance_criteria":"- [ ] Test scaffolding step exists before implementation | `grep -qi 'test.*scaffold\\|scaffold.*test' files/PROMPT_build.md` | 0\n- [ ] Verification commands must be run before close | `grep -q 'verify.*criteria\\|acceptance.*criteria' files/PROMPT_build.md` | 0\n- [ ] Separation of powers enforced (cannot remove deps) | `grep -q 'CANNOT.*remove.*depend\\|NOT.*remove' files/PROMPT_build.md` | 0\n- [ ] Close requires evidence of verification | `grep -q 'close.*reason\\|--reason' files/PROMPT_build.md` | 0","status":"open","priority":1,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:13.899144233-05:00","created_by":"max","updated_at":"2026-01-26T13:44:13.899144233-05:00","dependencies":[{"issue_id":"htrwb-1u2.3","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:13.902434435-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.3","depends_on_id":"htrwb-1u2.4","type":"blocks","created_at":"2026-01-26T13:45:16.488319407-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.4","title":"Write ACCEPTANCE_CRITERIA.md standards document","description":"\n## Context\nDocument that defines the format and patterns for writing verifiable acceptance criteria.\n\n## References\n- Draft: docs/ralph-beads-plan.md (Phase 2.1)\n\n## Approach\n1. Define standard format: description | command | expected_exit_code\n2. Document patterns: test-backed, command output, existence checks, LLM-as-judge\n3. Document anti-patterns with alternatives\n4. Explain verification in build mode\n5. Include framework-agnostic examples\n","acceptance_criteria":"- [ ] Standard format documented | `grep -q 'verification.*command\\|command.*exit' docs/ACCEPTANCE_CRITERIA.md` | 0\n- [ ] At least 4 patterns documented | `grep -c 'Pattern [0-9]' docs/ACCEPTANCE_CRITERIA.md | awk '$1 \u003e= 4'` | 0\n- [ ] Anti-patterns section exists | `grep -qi 'anti-pattern\\|never use' docs/ACCEPTANCE_CRITERIA.md` | 0\n- [ ] LLM-as-judge pattern included | `grep -qi 'llm.*judge\\|subjective' docs/ACCEPTANCE_CRITERIA.md` | 0","status":"open","priority":2,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:14.163068646-05:00","created_by":"max","updated_at":"2026-01-26T13:44:14.163068646-05:00","dependencies":[{"issue_id":"htrwb-1u2.4","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:14.166122591-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.5","title":"Write LOOP_CONTROL.md explaining exit mechanisms","description":"\n## Context\nDocumentation explaining how the Ralph loop terminates and prevents infinite iterations.\n\n## References\n- Draft: docs/ralph-beads-plan.md (Phase 3.1)\n\n## Approach\n1. Document three exit conditions: empty queue, max iterations, AC satisfaction\n2. Explain stuck detection mechanism\n3. Document separation of powers preventing gaming\n4. Include iteration counter explanation\n5. Provide troubleshooting for runaway loops\n","acceptance_criteria":"- [ ] Three exit conditions documented | `grep -c 'Exit Condition' docs/LOOP_CONTROL.md | awk '$1 \u003e= 3'` | 0\n- [ ] Stuck detection explained | `grep -qi 'stuck.*detect\\|iteration.*count' docs/LOOP_CONTROL.md` | 0\n- [ ] Separation of powers mentioned | `grep -qi 'separation\\|powers\\|build.*cannot' docs/LOOP_CONTROL.md` | 0","status":"open","priority":2,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:38.153867949-05:00","created_by":"max","updated_at":"2026-01-26T13:44:38.153867949-05:00","dependencies":[{"issue_id":"htrwb-1u2.5","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:38.155186107-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.5","depends_on_id":"htrwb-1u2.1","type":"blocks","created_at":"2026-01-26T13:45:16.557467302-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.6","title":"Create AGENTS.md template for target projects","description":"\n## Context\nTemplate AGENTS.md that projects using ralph-beads should copy and customize.\n\n## References\n- Draft: docs/ralph-beads-plan.md (Phase 4)\n- Original: https://github.com/ClaytonFarr/ralph-playbook/blob/main/files/AGENTS.md\n\n## Approach\n1. Include beads workflow overview\n2. Document session start/end procedures\n3. Include placeholder sections for project-specific commands\n4. Keep brief (~60 lines) per original guidance\n5. Include build mode restrictions\n","acceptance_criteria":"- [ ] Beads workflow documented | `grep -q 'bd ready\\|bd show\\|bd close' files/AGENTS.md` | 0\n- [ ] Build mode restrictions listed | `grep -qi 'cannot\\|forbidden\\|restriction' files/AGENTS.md` | 0\n- [ ] Project-specific placeholders present | `grep -q '\\[project' files/AGENTS.md` | 0\n- [ ] Under 100 lines | `wc -l \u003c files/AGENTS.md | awk '$1 \u003c 100'` | 0","status":"open","priority":2,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:38.423383863-05:00","created_by":"max","updated_at":"2026-01-26T13:44:38.423383863-05:00","dependencies":[{"issue_id":"htrwb-1u2.6","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:38.425797967-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.6","depends_on_id":"htrwb-1u2.2","type":"blocks","created_at":"2026-01-26T13:45:16.615719965-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.6","depends_on_id":"htrwb-1u2.3","type":"blocks","created_at":"2026-01-26T13:45:16.668675573-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.7","title":"Write QUICKSTART.md 5-minute setup guide","description":"\n## Context\nA concise guide to get users up and running in 5 minutes.\n\n## Approach\n1. Prerequisites (beads installed, project setup)\n2. Copy files step\n3. Initialize beads\n4. First planning loop\n5. First build loop\n6. Verify exit conditions work\n","acceptance_criteria":"- [ ] Prerequisites section exists | `grep -qi 'prereq\\|require' QUICKSTART.md` | 0\n- [ ] Step-by-step commands provided | `grep -c '^\\`\\`\\`' QUICKSTART.md | awk '$1 \u003e= 3'` | 0\n- [ ] Both plan and build modes covered | `grep -q 'plan' QUICKSTART.md \u0026\u0026 grep -q 'build' QUICKSTART.md` | 0","status":"open","priority":2,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:42.141860877-05:00","created_by":"max","updated_at":"2026-01-26T13:44:42.141860877-05:00","dependencies":[{"issue_id":"htrwb-1u2.7","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:42.144182803-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.7","depends_on_id":"htrwb-1u2.1","type":"blocks","created_at":"2026-01-26T13:45:16.742419406-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.7","depends_on_id":"htrwb-1u2.2","type":"blocks","created_at":"2026-01-26T13:45:16.802296971-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.7","depends_on_id":"htrwb-1u2.3","type":"blocks","created_at":"2026-01-26T13:45:16.87776565-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.8","title":"Write README.md with philosophy and overview","description":"\n## Context\nMain project README explaining the why and what of ralph-beads.\n\n## Approach\n1. Hook: What problem does this solve?\n2. Core transformation table (Ralph → Beads)\n3. Key innovations: verifiable exit conditions, test-first\n4. Quick example workflow\n5. Link to QUICKSTART.md and other docs\n6. Comparison table with original Ralph\n","acceptance_criteria":"- [ ] Problem statement exists | `grep -qi 'problem\\|infinite loop\\|exit condition' README.md` | 0\n- [ ] Transformation table present | `grep -q '|.*Ralph.*|.*Beads' README.md` | 0\n- [ ] Links to other docs | `grep -q 'QUICKSTART\\|CLAUDE.md' README.md` | 0","status":"open","priority":2,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:42.453701856-05:00","created_by":"max","updated_at":"2026-01-26T13:44:42.453701856-05:00","dependencies":[{"issue_id":"htrwb-1u2.8","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:42.455200007-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.8","depends_on_id":"htrwb-1u2.7","type":"blocks","created_at":"2026-01-26T13:45:16.936846116-05:00","created_by":"max"}]}
{"id":"htrwb-1u2.9","title":"Write MIGRATION.md for existing Ralph projects","description":"\n## Context\nGuide for converting existing ralph-playbook projects to ralph-beads.\n\n## References\n- Draft: docs/ralph-beads-plan.md (Phase 5)\n\n## Approach\n1. Document IMPLEMENTATION_PLAN.md → beads conversion\n2. Document specs/* → epics conversion\n3. Provide automation script for bulk conversion\n4. Include gotchas and edge cases\n","acceptance_criteria":"- [ ] IMPLEMENTATION_PLAN conversion documented | `grep -qi 'implementation.*plan\\|plan.*md' docs/MIGRATION.md` | 0\n- [ ] Automation script included | `grep -q 'migrate\\|script' docs/MIGRATION.md` | 0\n- [ ] Example conversions shown | `grep -c 'bd create' docs/MIGRATION.md | awk '$1 \u003e= 2'` | 0","status":"open","priority":3,"issue_type":"task","owner":"max@ipnts.ai","created_at":"2026-01-26T13:44:42.687666032-05:00","created_by":"max","updated_at":"2026-01-26T13:44:42.687666032-05:00","dependencies":[{"issue_id":"htrwb-1u2.9","depends_on_id":"htrwb-1u2","type":"parent-child","created_at":"2026-01-26T13:44:42.689713541-05:00","created_by":"max"},{"issue_id":"htrwb-1u2.9","depends_on_id":"htrwb-1u2.8","type":"blocks","created_at":"2026-01-26T13:45:17.189727636-05:00","created_by":"max"}]}
